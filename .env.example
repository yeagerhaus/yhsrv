# ============================================
# YH Music Server Configuration
# ============================================
# Copy this file to .env and fill in your values
# cp .env.example .env

# ============================================
# Server Configuration
# ============================================
PORT=8080
HOST=0.0.0.0
NODE_ENV=development

# ============================================
# Database Configuration
# ============================================
# Option 1: Use DATABASE_URL (recommended)
# DATABASE_URL=postgresql://username:password@localhost:5432/yhsrv

# Option 2: Use individual database settings
DB_HOST=localhost
DB_PORT=5432
DB_NAME=yhsrv
DB_USER=yhsrv
DB_PASSWORD=password

# ============================================
# Music Library Configuration
# ============================================
# Path to your music library directory
# On Windows, use forward slashes or escaped backslashes: C:/Music or C:\\Music
# On Linux/Mac: /home/username/Music or /mnt/music
MUSIC_ROOT_PATH=./music

# Path where transcoded files will be cached
# This should be a writable directory
TRANSCODE_CACHE_PATH=./cache/transcodes

# ============================================
# Spotify Integration (Optional)
# ============================================
# Get these from: https://developer.spotify.com/dashboard
# 1. Create an app in Spotify Developer Dashboard
# 2. Add redirect URI: http://localhost:8080/api/auth/spotify/callback
# 3. Copy Client ID and Client Secret here

SPOTIFY_CLIENT_ID=your_spotify_client_id_here
SPOTIFY_CLIENT_SECRET=your_spotify_client_secret_here
SPOTIFY_REDIRECT_URI=http://localhost:8080/api/auth/spotify/callback

# ============================================
# Deezer Integration (Optional - for yhdl)
# ============================================
# Get your ARL token from Deezer:
# 1. Log into Deezer in your browser
# 2. Open Developer Tools (F12)
# 3. Go to Application/Storage > Cookies > https://www.deezer.com
# 4. Copy the value of the 'arl' cookie
# 
# Note: ARL tokens expire, you may need to refresh periodically

DEEZER_ARL=your_deezer_arl_token_here

# Number of artists to check in parallel during sync
SYNC_CONCURRENCY=5

# Hours to wait before re-checking an artist (prevents excessive API calls)
SYNC_CHECK_INTERVAL=24

# ============================================
# FFmpeg Configuration
# ============================================
# FFmpeg is required for audio transcoding and analysis
# 
# Windows: Usually installed via chocolatey or manually
#   Default: C:/ffmpeg/bin/ffmpeg.exe
# 
# Linux/Mac: Usually in /usr/bin/ffmpeg
#   Default: /usr/bin/ffmpeg
#
# Docker: Already included in the container, defaults work

# Windows example:
# FFMPEG_PATH=C:/ffmpeg/bin/ffmpeg.exe
# FFPROBE_PATH=C:/ffmpeg/bin/ffprobe.exe

# Linux/Mac/Docker (defaults):
FFMPEG_PATH=/usr/bin/ffmpeg
FFPROBE_PATH=/usr/bin/ffprobe

# ============================================
# Audio Processing Configuration
# ============================================
# Default bitrate for transcoding (in kbps)
# Options: 128, 192, 256, 320
DEFAULT_TRANSCODE_BITRATE=320

# Supported audio formats (comma-separated)
SUPPORTED_FORMATS=flac,mp3,m4a,aac,ogg,wav

# ============================================
# Notes
# ============================================
# - Never commit your .env file to version control
# - The .env file is already in .gitignore
# - For production, use secure methods to manage secrets
# - Database password should be strong and unique
# - ARL tokens are sensitive - keep them secure
